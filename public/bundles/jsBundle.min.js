!function(){"use strict";function t(t,e){t.state("Home",{url:"/home",templateUrl:"views/home.html"}).state("Login",{url:"/",templateUrl:"views/login.html"}).state("Profile",{url:"/Profile",templateUrl:"views/profile.html"}).state("Register",{url:"/Register",templateUrl:"views/register.html"}),e.otherwise("/")}angular.module("app",["ui.router","ui.bootstrap"]).config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(){}angular.module("app").controller("homeController",t),t.$inject=[]}(),function(){"use strict";function t(t){var e=this;e.status={isopen:!1},e.toggleDropdown=function(t){t.preventDefault(),t.stopPropagation(),e.status.isopen=!e.status.isopen},e.open=function(e){t.open({animation:!0,templateUrl:"views/myModalContent.html",controller:"myModalController"})}}angular.module("app").controller("indexController",t),t.$inject=["$modal"]}(),function(){"use strict";function t(t,e){function o(){var o=s.user;return o.username&&o.password&&o.cpassword&&o.password===o.cpassword?void t.register(o).then(function(){e.go("Home")}):!1}function n(){t.login(s.user).then(function(){e.go("Home")})}var s=this;s.user={},s.status=t.status,s.register=o,s.login=n,s.logout=t.logout}angular.module("app").controller("loginController",t),t.$inject=["UserFactory","$state"]}(),function(){"use strict";function t(t,e){var o=this;o.ok=function(){t.close()},o.cancel=function(){t.dismiss("cancel")}}angular.module("app").controller("myModalController",t),t.$inject=["$modal"]}(),function(){"use strict";function t(t,e){function o(o){var n=e.defer();return t.post("/v1/api/Post",o).success(function(t){o._id=t.id,o.dateCreated=new Date,r.posts.push(o),n.resolve()}).error(function(t){n.reject(t)}),n.promise}function n(e){t.post("/v1/api/deletePost/"+e._id).success(function(t){r.posts.splice(r.posts.indexOf(e),1)})}function s(o){var n=e.defer();return t.get("/v1/api/Post/"+o).success(function(t){n.resolve(t)}),n.promise}var r={};return r.posts=[],r.postPost=o,r.deletePost=n,r.getPost=s,r}angular.module("app").factory("HomeFactory",t),t.$inject=["$http","$q"]}(),function(){"use strict";function t(t,e){function o(o){var n=e.defer();return t.post("/api/Users/Register",o).success(function(t){r(t.token),l.status.isLoggedIn=!0,n.resolve()}),n.promise}function n(o){var n={username:o.username.toLowerCase(),password:o.password},s=e.defer();return t.post("/api/Users/Login",n).success(function(t){r(t.token),l.status.isLoggedIn=!0,s.resolve()}),s.promise}function s(){l.status.isLoggedIn=!1,u()}function r(t){localStorage.setItem("token",t),l.status.username=a()}function i(){return localStorage.token}function u(){localStorage.removeItem("token"),l.status.username=null}function a(){return JSON.parse(atob(i().split(".")[1])).username}var l={};return l.status={},i()&&(l.status.isLoggedIn=!0,l.status.username=a()),l.setToken=r,l.getToken=i,l.removeToken=u,l.register=o,l.login=n,l.logout=s,l}angular.module("app").factory("UserFactory",t),t.$inject=["$http","$q"]}();